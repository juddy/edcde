<!-- $XConsortium: Tasks.sgm /main/10 1996/09/14 19:04:23 cdedoc $ -->
<!-- (c) Copyright 1995 Digital Equipment Corporation. -->
<!-- (c) Copyright 1995 Hewlett-Packard Company. -->
<!-- (c) Copyright 1995 International Business Machines Corp. -->
<!-- (c) Copyright 1995 Sun Microsystems, Inc. -->
<!-- (c) Copyright 1995 Novell, Inc. -->
<!-- (c) Copyright 1995 FUJITSU LIMITED. -->
<!-- (c) Copyright 1995 Hitachi. -->
<!-- Help volume: Loginmgr -->
<!-- File name:   Tasks    -->
<Chapter Id="Tasks">
<Title>Login Manager Tasks</Title>
<Procedure>
<Title>Starting and Ending a Desktop Session</Title>
<Step>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.1">
<Para><XRef Linkend="ToLogIntoASessionTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.2">
<Para><XRef Linkend="ToLogOutTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.3">
<Para><XRef Linkend="ToLogIntoDifferentLanguageSessionTA"></Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
<Procedure>
<Title>Alternative Ways to Log In</Title>
<Step>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.4">
<Para><XRef Linkend="ToLogIntoFailsafeTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.5">
<Para><XRef Linkend="ToEnterCommandLineLoginTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.6">
<Para><XRef Linkend="ToLeaveCommandLineLoginTA"></Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
<Procedure>
<Title>To Customize Session Startup and Logout</Title>
<Step>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.7">
<Para><XRef Linkend="ToSetPersonalVariablesTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.8">
<Para><XRef Linkend="ToUseAShellFileTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.9">
<Para><OLink Type="JumpNewView" LocalInfo="Stylemgr ChangeSessionsTA">To Determine How Your Next Session Starts</OLink>
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.10">
<Para><OLink Type="JumpNewView" LocalInfo="Stylemgr SaveSessionsTA">To Save a Session in Progress</OLink>
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.11">
<Para><OLink Type="JumpNewView" LocalInfo="Stylemgr LogoutPreferenceTA">To Set Your Logout Confirmation Preference </OLink>
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.12">
<Para><XRef Linkend="ToSaveHomeSessionTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.13">
<Para><XRef Linkend="ToRestoreHomeSessionTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.14">
<Para><XRef Linkend="ToDecideOnSessionAtLogout"></Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
<Sect1 Id="ToLogIntoASessionTA">
<Title>To Log In to a Desktop Session</Title>
<IndexTerm>
<Primary>logging in to a desktop session</Primary>
</IndexTerm>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.15">
<Para>Type your user ID and
press Return or click OK.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.16">
<Para>Type your password and press Return
or click OK.</Para>
</ListItem>
</OrderedList>
<Para>If Login Manager does not recognize your user ID or password,
try again.</Para>
<Para>When you login, Session Manager starts a session:</Para>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.17">
<Para>If this is the first time you have logged in, you start a new session.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.18">
<Para>If you have logged in before, your previous session is restored.</Para>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="ToLogOutTA">
<Title>To Log Out of a Desktop Session</Title>
<IndexTerm>
<Primary>logging out of desktop session</Primary>
</IndexTerm>
<IndexTerm>
<Primary>session:ending</Primary>
</IndexTerm>
<IndexTerm>
<Primary>Front Panel:exit control</Primary>
</IndexTerm>
<IndexTerm>
<Primary>Workspace menu:logout command</Primary>
</IndexTerm>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.19">
<Para>Click the exit control in the Front Panel.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.20">
<Para><Emphasis>Or,</Emphasis> choose Log out from the Workspace menu (displayed by pressing
mouse button 3).</Para>
</ListItem>
</ItemizedList>
<Para>When you log out of a regular desktop session, Session Manager
saves information about your current session so that information can be
restored the next time you log in.</Para>
</Sect1>
<Sect1 Id="ToLogIntoDifferentLanguageSessionTA">
<Title>To Use a Session in a Different Language</Title>
<IndexTerm>
<Primary>language: different</Primary>
</IndexTerm>
<IndexTerm>
<Primary>session:in different languages</Primary>
</IndexTerm>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.21">
<Para>Choose Language from the Options menu on the login screen.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.22">
<Para>Choose the language group that includes the language you need.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.23">
<Para>From the menu of languages in the group, choose the language
you need.
When you choose the language, the login screen will be
redisplayed in the selected language.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.24">
<Para>Log in.</Para>
</ListItem>
</OrderedList>
<Para>The default language for your system is set by your system administrator.
The Options menu enables you to access other languages.
Choosing a language in the Language menu sets the LANG environment variable
for your session. The default language is restored at the end of the session.</Para>
</Sect1>
<Sect1 Id="ToLogIntoFailsafeTA">
<Title>To Log In to and Out of a Failsafe Session</Title>
<IndexTerm>
<Primary>logging into and out of failsafe session</Primary>
</IndexTerm>
<IndexTerm>
<Primary>failsafe session: logging in and out</Primary>
</IndexTerm>
<IndexTerm>
<Primary>terminal emulator:in failsafe session</Primary>
</IndexTerm>
<Para>A failsafe session is a simple session that
optionally starts a Window Manager and
a single Terminal window.
It is useful when you need access to a single Terminal window to
execute several commands before logging in to a desktop session.
</Para>
<Procedure>
<Title>To Log In</Title>
<Step>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.25">
<Para>On the login screen, Choose Session from the Options menu.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.26">
<Para>Choose Failsafe Session from the Session submenu.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.27">
<Para>Log in.</Para>
</ListItem>
</OrderedList>
</Step>
</Procedure>
<Procedure>
<Title>To Log Out</Title>
<Step>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.28">
<Para>Type the <ComputerOutput>exit</ComputerOutput> command in the Terminal window.</Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
</Sect1>
<Sect1 Id="ToEnterCommandLineLoginTA">
<Title>To Enter Command Line Login Mode</Title>
<IndexTerm>
<Primary>X server: stopping temporarily</Primary>
</IndexTerm>
<IndexTerm>
<Primary>using: Command Line Login mode</Primary>
</IndexTerm>
<IndexTerm>
<Primary>Command Line Login mode</Primary>
</IndexTerm>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.29">
<Para>On the login screen, choose Command Line Login from the Options menu.
The login screen disappears and is replaced by a console prompt.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.30">
<Para>Supply your user ID and password as prompted.</Para>
</ListItem>
</OrderedList>
<Para>Command Line Login mode is not a desktop session. When your system is
in Command Line Login mode, the desktop is suspended. You log in using your
operating system mechanism rather than Login Manager. There are no
windows because the X server is not running.</Para>
<Note>
<Para>Certain types of configurations (for example, Xterminals) do
not provide a Command Line Login mode option.
</Para>
</Note>
</Sect1>
<Sect1 Id="ToLeaveCommandLineLoginTA">
<Title>To Leave Command Line Login Mode</Title>
<IndexTerm>
<Primary>using: Command Line Login mode</Primary>
</IndexTerm>
<IndexTerm>
<Primary>Command Line Login mode</Primary>
</IndexTerm>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.31">
<Para>Type <ComputerOutput>exit</ComputerOutput> from the command-line prompt.</Para>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="ToSaveHomeSessionTA">
<Title>To Save a Home Session</Title>
<IndexTerm>
<Primary>saving: home session</Primary>
</IndexTerm>
<IndexTerm>
<Primary>home session: saving</Primary>
</IndexTerm>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.32">
<Para>Click the Style Manager control in the Front Panel.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.33">
<Para>Click the Startup control in Style Manager.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.34">
<Para>Click Set Home session in the Startup dialog box.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.35">
<Para>Click OK in the confirmation dialog box that appears.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.36">
<Para>Click OK.
</Para>
</ListItem>
</OrderedList>
<Para>This saves the current state of your session.</Para>
<Procedure>
<Title>See Also</Title>
<Step>
<ItemizedList Mark="&bull;" Role="tight">
<ListItem Id="HLGMGR.TSKS.item.37">
<Para><OLink Type="JumpNewView" LocalInfo="Stylemgr ChangeSessionsTA">To Determine How Your Next Session Starts</OLink>
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.38">
<Para><OLink Type="JumpNewView" LocalInfo="Stylemgr SaveSessionsTA">To Save a Session in Progress</OLink>
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.39">
<Para><OLink Type="JumpNewView" LocalInfo="Stylemgr LogoutPreferenceTA">To Set Your Logout Confirmation Preference </OLink>
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.40">
<Para><XRef Linkend="ToRestoreHomeSessionTA"></Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.41">
<Para><XRef Linkend="ToDecideOnSessionAtLogout"></Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
</Sect1>
<Sect1 Id="ToRestoreHomeSessionTA">
<Title>To Automatically Start the Home Session at Login</Title>
<IndexTerm>
<Primary>starting: home session at login</Primary>
</IndexTerm>
<IndexTerm>
<Primary>home session: automatically starting at login</Primary>
</IndexTerm>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.42">
<Para>Click the Style Manager control in the Front Panel.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.43">
<Para>Click the Startup control in Style Manager. The Startup dialog box is displayed.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.44">
<Para>Select Return to Home session.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.45">
<Para>Click OK.</Para>
</ListItem>
</OrderedList>
<Para>When you choose Return to Home session, Session Manager does <Symbol Role="Variable">not</Symbol> save
your current session at logout.</Para>
<Procedure>
<Title>See Also</Title>
<Step>
<ItemizedList Mark="&bull;" Role="tight">
<ListItem Id="HLGMGR.TSKS.item.46">
<Para><XRef Linkend="ToSaveHomeSessionTA">.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.47">
<Para><XRef Linkend="ToDecideOnSessionAtLogout">.</Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
</Sect1>
<Sect1 Id="ToDecideOnSessionAtLogout">
<Title>To Choose Which Session to Start</Title>
<IndexTerm>
<Primary>choosing: between current and home session</Primary>
</IndexTerm>
<IndexTerm>
<Primary>current and home session: choosing between</Primary>
</IndexTerm>
<IndexTerm>
<Primary>home and current session: choosing between</Primary>
</IndexTerm>
<OrderedList>
<ListItem>
<Para>On the Login screen, click the Options button.
<IndexTerm><Primary>session</Primary><Secondary>determining at login</Secondary></IndexTerm>
</Para>
</ListItem>
<ListItem>
<Para>Click Session. The Session menu lists the available sessions:
</para>
<variablelist>
<varlistentry><term>Current</term>
<listitem>
<para>Starts your most recent session.</para>
</listitem>
</varlistentry>
<varlistentry><term>Home</term>
<listitem>
<para>Starts your home session (if you set one).</para>
</listitem>
</varlistentry>
<varlistentry><term><emphasis>display-name</emphasis> - Current</term>
<listitem>
<para>
Starts the current session for your display, if one exists.
Otherwise, a new current session for your display
will be created and the first one of the following sessions
that exists will be started: a home session for your display,
the generic home session, or a new user session.
</para>
</listitem>
</varlistentry>
<varlistentry><term><emphasis>display-name</emphasis> - Home</term>
<listitem>
<para>
Starts the home session for your display, if one exists.
Otherwise, a new session specific to your display will be
created and your generic home session (if it
exists) or a new user session will be started.
</para>
</listitem>
</varlistentry>
<varlistentry><term>Failsafe Session</term>
<listitem>
<para>Starts a failsafe session.</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<para>Click on the session you want to start.
</para>
</ListItem>
</OrderedList>
<Procedure>
<Title>See Also</Title>
<Step>
<ItemizedList Mark="&bull;" Role="tight">
<ListItem Id="HLGMGR.TSKS.item.52">
<Para><XRef Linkend="ToSaveHomeSessionTA">.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.53">
<Para><XRef Linkend="ToRestoreHomeSessionTA">.</Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
</Sect1>
<Sect1 Id="ToSetPersonalVariablesTA">
<Title>To Set Personal Environment Variables</Title>
<IndexTerm>
<Primary>setting: personal environment variables</Primary>
</IndexTerm>
<IndexTerm>
<Primary>personal environment variables: setting</Primary>
</IndexTerm>
<IndexTerm>
<Primary>environment variables: setting personal</Primary>
</IndexTerm>
<IndexTerm>
<Primary>variables, environment: setting personal</Primary>
</IndexTerm>
<Para>Personal environment variables can be set in the script file
<ComputerOutput>HomeDirectory/.dtprofile</ComputerOutput>.</Para>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.54">
<Para>Edit <Symbol Role="Variable">HomeDirectory</Symbol>/.dtprofile
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.55">
<Para>Add lines to the file to set the environment variable
</Para>
</ListItem>
</OrderedList>
<Para>The desktop will accept either sh or ksh syntax for the commands in this
file. The commands should only be those that set environment
variables, not any that perform terminal I/O, ex. "tset" or "stty".</Para>
<Note>
<Para>The files <ComputerOutput>/etc/profile</ComputerOutput>
and <ComputerOutput>HomeDirectory/.profile</ComputerOutput> are
not read by the desktop as they may contain terminal I/O based commands
inappropriate for a graphical interface.
</Para>
</Note>
<Para>The desktop automatically
sets the following environment variables for each user:
</Para>
<VariableList>
<VarListEntry>
<Term>DISPLAY</Term>
<ListItem>
<Para>set to the value of the first field in the Xservers file
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>EDITOR</Term>
<ListItem>
<Para>set to the desktop default editor
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>ENV</Term>
<ListItem>
<Para>set to "HomeDirectory/.kshrc"
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>HOME</Term>
<ListItem>
<Para>set to the user's home directory (from /etc/passwd)
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>KBD_LANG</Term>
<ListItem>
<Para>set to the value of $LANG for some languages (see Xsession)
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>LANG</Term>
<ListItem>
<Para>set to the display's current NLS language (if any)
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>LC_ALL, LC_MESSAGES</Term>
<ListItem>
<Para>set to the value of $LANG
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>LOGNAME</Term>
<ListItem>
<Para>set to the user name
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>MAIL</Term>
<ListItem>
<Para>set to "/usr/mail/$USER"
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>PATH</Term>
<ListItem>
<Para>set to the value of the Dtlogin "userPath" resource
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>USER</Term>
<ListItem>
<Para>set to the user name
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>SHELL</Term>
<ListItem>
<Para>set to the user's default shell (from /etc/passwd)
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>TERM</Term>
<ListItem>
<Para>set to xterm
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>TZ</Term>
<ListItem>
<Para>set to the value of the Dtlogin "timeZone" resource</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Procedure>
<Title>See Also</Title>
<Step>
<ItemizedList Mark="&bull;" Role="tight">
<ListItem Id="HLGMGR.TSKS.item.56">
<Para><XRef Linkend="ToUseAShellFileTA">.
</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.57">
<Para>Dtlogin(1X) man page for details on setting environment variables.
</Para>
</ListItem>
</ItemizedList>
</Step>
</Procedure>
</Sect1>
<Sect1 Id="ToUseAShellFileTA">
<Title>To Use Your Existing .profile or .login File</Title>
<IndexTerm>
<Primary>using: shell environment file with <ComputerOutput>.dtprofile</ComputerOutput></Primary>
</IndexTerm>
<IndexTerm>
<Primary>shell environment file, using with <ComputerOutput>.dtprofile</ComputerOutput></Primary>
</IndexTerm>
<IndexTerm>
<Primary>environment file, shell, using with <ComputerOutput>.dtprofile</ComputerOutput></Primary>
</IndexTerm>
<Para>If you have an existing shell environment file (<ComputerOutput>.profile</ComputerOutput> or <ComputerOutput>.login</ComputerOutput>),
this procedure lets you continue to use that file. This will avoid duplicate
variable assigments between <ComputerOutput>.dtprofile</ComputerOutput> and the shell environment file.
With minor editing, you can adapt
<ComputerOutput>HomeDirectory/.profile (or .login)</ComputerOutput>
for use both with and without the desktop.
</Para>
<OrderedList>
<ListItem Id="HLGMGR.TSKS.item.58">
<Para>Edit the <ComputerOutput>.profile or .login</ComputerOutput> to provide two sections:</Para>
<ItemizedList Mark="&bull;">
<ListItem Id="HLGMGR.TSKS.item.59">
<Para>One section contains commands that do not apply to the desktop (for
example, commands that require terminal I/O, or variables for which
you want to replicate the desktop default values).
Enclose them with an "if" statement that checks for the setting of
the "DT" environment variable.</Para>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.60">
<Para>The other section contains variables that apply, whether or not the desktop
is run.
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.61">
<Para>Modify <ComputerOutput>.dtprofile</ComputerOutput> to source in the shell
environment file by uncommenting the following line at the
bottom on the <ComputerOutput>.dtprofile</ComputerOutput> file.</Para>
<ProgramListing>DTSOURCEPROFILE=true
</ProgramListing>
</ListItem>
<ListItem Id="HLGMGR.TSKS.item.62">
<Para>Log in again</Para>
</ListItem>
</OrderedList>
<Para>The following sample shows how to separate it into a non-desktop
section and a section for variables that apply to both environments.</Para>
<Procedure>
<Title>example for sh/ksh</Title>
<Step>
<ProgramListing>   
  #
  #  commands and environment variables used when logging in without 
  #  the desktop
  #
  if [ ! "$DT" ]; then
    stty ...
    tset ...
    DISPLAY=mydisplay:0
    MAIL=/usr/mail/$USER
    EDITOR=/bin/vi
	        ...
  fi	    

  #
  # environment variables common to both desktop and non-desktop 
  #
  PATH=$HOME/bin:$PATH
       ...
</ProgramListing>
</Step>
</Procedure>
<Procedure>
<Title>example for csh</Title>
<Step>
<ProgramListing>#
  #  commands and environment variables used when logging in without 
  #  the desktop
  #
  if (! ${?DT}) then
     stty ...
     tset ...
     setenv DISPLAY mydisplay:0
     setenv MAIL /usr/mail/$USER
     setenv EDITOR /bin/vi
         ...
  fi
  #
  # environment variables common to both desktop and non-desktop
  #
  setenv PATH $HOME/bin:$PATH
 
</ProgramListing>
<Note>
<Para>Errors in .dtprofile or .profile (.login) may prevent a successful
login. If so, log in via the failsafe session and correct the error.
</Para>
</Note>
<Note>
<Para>If a terminal emulator is started with the <ComputerOutput>-ls</ComputerOutput> option, <ComputerOutput>.login</ComputerOutput> or
<ComputerOutput>.profile</ComputerOutput> will be read automatically.
</Para>
</Note>
<!-- EOF: Tasks -->
</Step>
</Procedure>
</Sect1>
</Chapter>
<!--fickle 1.15 help-to-docbook 1.4 01/17/96 16:39:31-->
